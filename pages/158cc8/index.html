<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Node.js篇 | uploadhub的技术博客</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/logo.png">
    <meta name="description" content="web前端技术博客,专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,React,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#3eaf7c">
    
    <link rel="preload" href="/assets/css/0.styles.176e62ce.css" as="style"><link rel="preload" href="/assets/js/app.1f1ab57c.js" as="script"><link rel="preload" href="/assets/js/2.091c8f37.js" as="script"><link rel="preload" href="/assets/js/11.3b58f631.js" as="script"><link rel="prefetch" href="/assets/js/10.35c9e42d.js"><link rel="prefetch" href="/assets/js/12.366718db.js"><link rel="prefetch" href="/assets/js/13.65dbf792.js"><link rel="prefetch" href="/assets/js/14.657af822.js"><link rel="prefetch" href="/assets/js/15.da71e392.js"><link rel="prefetch" href="/assets/js/16.144334e1.js"><link rel="prefetch" href="/assets/js/17.0e37f9ea.js"><link rel="prefetch" href="/assets/js/18.ff8e9b5a.js"><link rel="prefetch" href="/assets/js/19.cab971fa.js"><link rel="prefetch" href="/assets/js/20.45cfdf2c.js"><link rel="prefetch" href="/assets/js/21.39c4cf04.js"><link rel="prefetch" href="/assets/js/22.17e124f1.js"><link rel="prefetch" href="/assets/js/23.3ba7fd18.js"><link rel="prefetch" href="/assets/js/24.bf1a22bf.js"><link rel="prefetch" href="/assets/js/25.601ad2dd.js"><link rel="prefetch" href="/assets/js/26.7723d969.js"><link rel="prefetch" href="/assets/js/27.5d68f75e.js"><link rel="prefetch" href="/assets/js/28.558d89d0.js"><link rel="prefetch" href="/assets/js/29.d916adb5.js"><link rel="prefetch" href="/assets/js/3.0324b125.js"><link rel="prefetch" href="/assets/js/30.fbec591c.js"><link rel="prefetch" href="/assets/js/31.f2a0df64.js"><link rel="prefetch" href="/assets/js/32.0a862cdb.js"><link rel="prefetch" href="/assets/js/33.7e64a907.js"><link rel="prefetch" href="/assets/js/34.290a1e37.js"><link rel="prefetch" href="/assets/js/35.28dbf541.js"><link rel="prefetch" href="/assets/js/36.d41e3d4d.js"><link rel="prefetch" href="/assets/js/37.33ae84a9.js"><link rel="prefetch" href="/assets/js/38.b6152a62.js"><link rel="prefetch" href="/assets/js/39.ae208d3a.js"><link rel="prefetch" href="/assets/js/4.8b2eab81.js"><link rel="prefetch" href="/assets/js/40.299bf023.js"><link rel="prefetch" href="/assets/js/41.cfcf2b5a.js"><link rel="prefetch" href="/assets/js/42.28b66853.js"><link rel="prefetch" href="/assets/js/43.6b998c5a.js"><link rel="prefetch" href="/assets/js/44.824d0db9.js"><link rel="prefetch" href="/assets/js/45.c261bc1e.js"><link rel="prefetch" href="/assets/js/46.a1aad033.js"><link rel="prefetch" href="/assets/js/47.c63885dc.js"><link rel="prefetch" href="/assets/js/48.13bb55ab.js"><link rel="prefetch" href="/assets/js/49.17163636.js"><link rel="prefetch" href="/assets/js/5.5682cd95.js"><link rel="prefetch" href="/assets/js/50.26bd7726.js"><link rel="prefetch" href="/assets/js/51.4e9b01ae.js"><link rel="prefetch" href="/assets/js/52.4ee9755c.js"><link rel="prefetch" href="/assets/js/53.91c7a96d.js"><link rel="prefetch" href="/assets/js/54.3bfb94da.js"><link rel="prefetch" href="/assets/js/55.806469e8.js"><link rel="prefetch" href="/assets/js/56.c4d64e33.js"><link rel="prefetch" href="/assets/js/57.f989cf86.js"><link rel="prefetch" href="/assets/js/58.8952330f.js"><link rel="prefetch" href="/assets/js/59.2fda97e5.js"><link rel="prefetch" href="/assets/js/6.c8d84b68.js"><link rel="prefetch" href="/assets/js/60.ad11295c.js"><link rel="prefetch" href="/assets/js/61.c0c67db7.js"><link rel="prefetch" href="/assets/js/7.92d3b2f9.js"><link rel="prefetch" href="/assets/js/8.301a5091.js"><link rel="prefetch" href="/assets/js/9.ccc1366d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.176e62ce.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="uploadhub的技术博客" class="logo"> <span class="site-name can-hide">uploadhub的技术博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><a href="/web/" class="link-title">前端基础</a> <span class="title" style="display:none;">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/2a8510/" class="nav-link">《HTML5和CSS3篇》</a></li><li class="dropdown-subitem"><a href="/pages/66da93/" class="nav-link">《JavaScript基础篇》</a></li><li class="dropdown-subitem"><a href="/pages/d5f3f8/" class="nav-link">《JavaScript高级篇》</a></li><li class="dropdown-subitem"><a href="/pages/d36ce7/" class="nav-link">《Ajax篇》</a></li><li class="dropdown-subitem"><a href="/pages/8f43f3/" class="nav-link">《JavaScript模块化篇》</a></li><li class="dropdown-subitem"><a href="/pages/158cc8/" aria-current="page" class="nav-link router-link-exact-active router-link-active">《Node.js篇》</a></li><li class="dropdown-subitem"><a href="/pages/54baea/" class="nav-link">《MongoDB篇》</a></li><li class="dropdown-subitem"><a href="/pages/93651e/" class="nav-link">《Promise篇》</a></li><li class="dropdown-subitem"><a href="/note/git/" class="nav-link">《Git篇》</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><a href="/pages/a1940a/" class="link-title">框架</a> <span class="title" style="display:none;">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/a1940a/" class="nav-link">《Vue2+Vue3篇》</a></li><li class="dropdown-item"><!----> <a href="/pages/f6h57b/" class="nav-link">《React篇》</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试" class="dropdown-title"><a href="/pages/8309a5b876fc95e3/" class="link-title">面试</a> <span class="title" style="display:none;">面试</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/8309a5b876fc95e3/" class="nav-link">一面-基础</a></li><li class="dropdown-item"><!----> <a href="/pages/0a83b083bdf257cb/" class="nav-link">二三面-进阶</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于我</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://getpic.oss-cn-shenzhen.aliyuncs.com/avatar.png"> <div class="blogger-info"><h3>uploadhub</h3> <span></span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><a href="/web/" class="link-title">前端基础</a> <span class="title" style="display:none;">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/2a8510/" class="nav-link">《HTML5和CSS3篇》</a></li><li class="dropdown-subitem"><a href="/pages/66da93/" class="nav-link">《JavaScript基础篇》</a></li><li class="dropdown-subitem"><a href="/pages/d5f3f8/" class="nav-link">《JavaScript高级篇》</a></li><li class="dropdown-subitem"><a href="/pages/d36ce7/" class="nav-link">《Ajax篇》</a></li><li class="dropdown-subitem"><a href="/pages/8f43f3/" class="nav-link">《JavaScript模块化篇》</a></li><li class="dropdown-subitem"><a href="/pages/158cc8/" aria-current="page" class="nav-link router-link-exact-active router-link-active">《Node.js篇》</a></li><li class="dropdown-subitem"><a href="/pages/54baea/" class="nav-link">《MongoDB篇》</a></li><li class="dropdown-subitem"><a href="/pages/93651e/" class="nav-link">《Promise篇》</a></li><li class="dropdown-subitem"><a href="/note/git/" class="nav-link">《Git篇》</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><a href="/pages/a1940a/" class="link-title">框架</a> <span class="title" style="display:none;">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/a1940a/" class="nav-link">《Vue2+Vue3篇》</a></li><li class="dropdown-item"><!----> <a href="/pages/f6h57b/" class="nav-link">《React篇》</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试" class="dropdown-title"><a href="/pages/8309a5b876fc95e3/" class="link-title">面试</a> <span class="title" style="display:none;">面试</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/8309a5b876fc95e3/" class="nav-link">一面-基础</a></li><li class="dropdown-item"><!----> <a href="/pages/0a83b083bdf257cb/" class="nav-link">二三面-进阶</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于我</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>学习笔记</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/2a8510/" class="sidebar-link">HTML5和CSS3篇</a></li><li><a href="/pages/66da93/" class="sidebar-link">JavaScript基础篇</a></li><li><a href="/pages/d5f3f8/" class="sidebar-link">JavaScript高级篇</a></li><li><a href="/pages/d36ce7/" class="sidebar-link">Ajax篇</a></li><li><a href="/pages/8f43f3/" class="sidebar-link">JavaScript模块化篇</a></li><li><a href="/pages/158cc8/" aria-current="page" class="active sidebar-link">Node.js篇</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/158cc8/#_1-前置概念" class="sidebar-link">1. 前置概念</a></li><li class="sidebar-sub-header level2"><a href="/pages/158cc8/#_2-node-js简介" class="sidebar-link">2. Node.js简介</a></li><li class="sidebar-sub-header level2"><a href="/pages/158cc8/#_3-node-js的特点" class="sidebar-link">3. Node.js的特点</a></li><li class="sidebar-sub-header level2"><a href="/pages/158cc8/#_4-模块化" class="sidebar-link">4. 模块化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/158cc8/#_4-1-模块的引用" class="sidebar-link">4.1 模块的引用</a></li><li class="sidebar-sub-header level3"><a href="/pages/158cc8/#_4-2-模块的定义" class="sidebar-link">4.2 模块的定义</a></li><li class="sidebar-sub-header level3"><a href="/pages/158cc8/#_4-3-exports" class="sidebar-link">4.3 exports</a></li><li class="sidebar-sub-header level4"><a href="/pages/158cc8/#exports导出变量和函数" class="sidebar-link">exports导出变量和函数</a></li><li class="sidebar-sub-header level4"><a href="/pages/158cc8/#exports原理" class="sidebar-link">exports原理</a></li><li class="sidebar-sub-header level3"><a href="/pages/158cc8/#_4-4-模块的标识与加载" class="sidebar-link">4.4 模块的标识与加载</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/158cc8/#_5-npm常用命令" class="sidebar-link">5. npm常用命令</a></li><li class="sidebar-sub-header level2"><a href="/pages/158cc8/#_6-包-package" class="sidebar-link">6. 包（package）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/158cc8/#_6-1-package-json" class="sidebar-link">6.1 package.json</a></li><li class="sidebar-sub-header level3"><a href="/pages/158cc8/#_6-2-npm-node-package-manager" class="sidebar-link">6.2 npm（Node Package Manager）</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/158cc8/#_7-文件系统-file-system" class="sidebar-link">7. 文件系统（File System）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/158cc8/#_7-1-buffer-缓冲区" class="sidebar-link">7.1 Buffer（缓冲区）</a></li><li class="sidebar-sub-header level3"><a href="/pages/158cc8/#_7-2-fs模块" class="sidebar-link">7.2 fs模块</a></li></ul></li></ul></li><li><a href="/pages/54baea/" class="sidebar-link">MongoDB篇</a></li><li><a href="/pages/93651e/" class="sidebar-link">Promise篇</a></li><li><a href="/note/git/" class="sidebar-link">Git篇</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/web/#前端" data-v-06225672>前端</a></li><li data-v-06225672><a href="/web/#学习笔记" data-v-06225672>学习笔记</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/uploadhub" target="_blank" title="作者" class="beLink" data-v-06225672>uploadhub</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-03-03</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">Node.js篇<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="_1-前置概念"><a href="#_1-前置概念" class="header-anchor">#</a> 1. 前置概念</h2> <p><strong>命令行窗口/shell/终端-常用的指令</strong></p> <ol><li><strong>dir</strong>: 列出当前目录下的所有文件</li> <li><strong>cd</strong>: 目录名 进入到指定的目录</li> <li><strong>md</strong>: 目录名 创建一个文件夹</li> <li><strong>rd</strong>: 目录名 删除一个文件夹</li></ol> <p><strong>目录</strong></p> <ol><li>&quot;.&quot; 表示当前目录</li> <li>&quot;..&quot; 表示上一级目录</li></ol> <p><strong>环境变量（windows系统中变量）</strong></p> <ol><li>当我们在命令行窗口打开一个文件，或调用一个程序时，系统会首先在当前目录下寻找文件程序，如果找到了则直接打开；如果没有找到则会依次到环境变量path的路径中寻找，直到找到为止，如果最终没找到则报错</li> <li>所以我们可以将一些经常需要访问的程序和文件的路径添加到path中，这样我们就可以在任意位置来访问这些文件和程序了</li></ol> <p><strong>I/O (Input/Output)</strong></p> <div class="language- extra-class"><pre><code>- I/O操作指的是对磁盘的读写操作
</code></pre></div><h2 id="_2-node-js简介"><a href="#_2-node-js简介" class="header-anchor">#</a> 2. Node.js简介</h2> <ol><li>Node是对ES标准一个实现，Node也是一个JS引擎，通过Node可以<strong>使js代码在服务器端执行</strong></li> <li>Node仅仅对ES标准进行了实现，所以在Node中不包含DOM 和 BOM</li> <li>Node中可以使用所有的<strong>内建对象</strong>，如String Number Boolean Math Date RegExp Function Object Array</li> <li>而BOM和DOM都不能使用，但是可以使用 console 也可以使用定时器</li></ol> <p><strong>服务器相关</strong></p> <ol><li>Node可以在后台来编写服务器，Node编写服务器都是单线程的服务器</li> <li>进程就是一个一个的工作计划（工厂中的车间）</li> <li>线程是计算机最小的运算单位（工厂中的工人），线程是干活的</li> <li>传统的服务器都是多线程的，每进来一个请求，就创建一个线程去处理请求</li> <li>Node的服务器是单线程的，Node处理请求时是单线程，但是在后台拥有一个I/O线程池</li></ol> <p><strong>注意点</strong></p> <ol><li>Node就是一款使用js编写的web服务器</li> <li>Node底层是使用c++的编写的</li> <li>Node的中js引擎使用的Chrome的v8引擎</li></ol> <h2 id="_3-node-js的特点"><a href="#_3-node-js的特点" class="header-anchor">#</a> 3. Node.js的特点</h2> <ol><li>非阻塞、异步的I/O</li> <li>事件和回调函数</li> <li>单线程（主线程单线程，后台I/O线程池）</li> <li>跨平台</li></ol> <h2 id="_4-模块化"><a href="#_4-模块化" class="header-anchor">#</a> 4. 模块化</h2> <p>ES5中没有原生支持模块化，我们只能通过script标签引入js文件来实现模块化</p> <p>在Node中为了对模块管理，引入了<strong>CommonJS</strong>规范</p> <h3 id="_4-1-模块的引用"><a href="#_4-1-模块的引用" class="header-anchor">#</a> 4.1 模块的引用</h3> <p>使用 **require()**函数来引入一个模块，它用来加载模块与获取被加载模块导出的对象</p> <p>用法示例如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> 变量 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;模块的标识&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>注意</strong></p> <p>当加载一个模块时node底层会判断这个模块是否被加载过，如果加载过就不再执行而是直接返回这个模块导出的结果的缓存</p> <h3 id="_4-2-模块的定义"><a href="#_4-2-模块的定义" class="header-anchor">#</a> 4.2 模块的定义</h3> <ol><li>在Node.js中一个js文件就是一个模块</li> <li>默认情况下在js文件中编写的内容，都是运行在一个独立的函数中（Node.js会将这些内容包装成立即执行函数再运行），外部的模块无法访问，内部也无法访问外部</li> <li>Node.js会在包装的立即执行函数中声明几个形参如exports、module等</li> <li>模块中使用var声明的变量存在这个独立函数的函数作用域里，外部想要使用这些变量和函数则需要导出</li> <li>不用var而直接声明的是全局变量或函数，要尽量避免使用，防止污染全局作用域</li></ol> <h3 id="_4-3-exports"><a href="#_4-3-exports" class="header-anchor">#</a> 4.3 exports</h3> <ol><li>每个文件模块中都提供一个exports对象，默认是空对象</li> <li>require方法执行的返回值就是被引入模块中exports对象的值(可以使用闭包功能)</li> <li>如果一个模块要直接导出某个成员而非挂载的方式，这时候必须使用对module.exports赋值的方式</li></ol> <h4 id="exports导出变量和函数"><a href="#exports导出变量和函数" class="header-anchor">#</a> exports导出变量和函数</h4> <p>方式一：使用 exports</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>exports<span class="token punctuation">.</span>属性 <span class="token operator">=</span> 属性值<span class="token punctuation">;</span>
exports<span class="token punctuation">.</span>方法 <span class="token operator">=</span> 函数<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>方式二：使用module.exports</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>属性 <span class="token operator">=</span> 属性值<span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>方法 <span class="token operator">=</span> 函数<span class="token punctuation">;</span>
<span class="token comment">//用来导出多个数据</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="exports原理"><a href="#exports原理" class="header-anchor">#</a> exports原理</h4> <ol><li>exports在node中是module.exports的引用</li> <li>由于是引用且返回值是module.exports，因此当给exports或者module.exports重新赋值时，引用的地址就会丢失，就无法导出exports中的值了</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/*  node模块化的底层实现
var module = {
    exports: {}
}
var exports = module.exports
*/</span>
<span class="token comment">//开始执行文件中的代码</span>
<span class="token operator">...</span>code
<span class="token comment">/*
return modeule.exports
*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_4-4-模块的标识与加载"><a href="#_4-4-模块的标识与加载" class="header-anchor">#</a> 4.4 模块的标识与加载</h3> <ul><li>模块的标识就是模块的名字或路径</li> <li>Node.js是通过模块的标识来寻找模块的</li></ul> <p>对于<strong>核心模块（npm中下载的模块）</strong>，直接使用<strong>模块的名字</strong>对其进行引入</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;fs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;express&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>对于<strong>自定义的文件模块</strong>，需要通过<strong>文件的路径</strong>来对模块进行引入，路径可以是绝对路径，<strong>如果是相对路径必须以./或 ../开头</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> router <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./router&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>​</p> <p><strong>第三方模块的加载顺序</strong></p> <ol><li>先查找当前父目录下node_modules文件</li> <li>寻找node_modules/xxx文件夹，xxx为加载的模块名称</li> <li>寻找node_modules/xxx/package.json</li> <li>寻找node_modules/xxx/package.json中main属性的文件名</li> <li>按照main文件名加载指定入口文件</li> <li>如果package.json或者main属性值没有指定，则尝试加载package.json所在目录下的index.js</li> <li>没有找到则向上一级目录加载，然后循环1-7</li> <li>到根目录还没有查找到，则报错： can not find module xxx</li> <li>node_modules一般放在项目根目录下，不可能一个项目有多个node_modules文件夹</li> <li>npm安装规则似乎也相似，只是package.json在node_modules文件夹父目录中而不是项目中的</li></ol> <h2 id="_5-npm常用命令"><a href="#_5-npm常用命令" class="header-anchor">#</a> 5. npm常用命令</h2> <table><thead><tr><th style="text-align:center;">命令</th> <th style="text-align:center;">作用</th></tr></thead> <tbody><tr><td style="text-align:center;"><strong>npm -v</strong></td> <td style="text-align:center;">查看npm的版本</td></tr> <tr><td style="text-align:center;"><strong>npm version</strong></td> <td style="text-align:center;">查看所有模块的版本</td></tr> <tr><td style="text-align:center;"><strong>npm search 包名</strong></td> <td style="text-align:center;">搜索包</td></tr> <tr><td style="text-align:center;"><strong>npm install/i 包名</strong></td> <td style="text-align:center;">安装包</td></tr> <tr><td style="text-align:center;"><strong>npm remove/r 包名</strong></td> <td style="text-align:center;">删除包</td></tr> <tr><td style="text-align:center;"><strong>npm install 包名 --save</strong></td> <td style="text-align:center;">安装包并添加到依赖中</td></tr> <tr><td style="text-align:center;"><strong>npm install</strong></td> <td style="text-align:center;">下载当前项目所依赖的包</td></tr> <tr><td style="text-align:center;"><strong>npm install 包名 -g</strong></td> <td style="text-align:center;">全局安装包（全局安装的包一般都是一些工具）</td></tr></tbody></table> <p>注意npm i这种简写命令在实际使用时，有如下区别点(windows下)：</p> <ol><li>用npm i安装的模块无法用npm uninstall删除，用npm uninstall i才卸载掉</li> <li>npm i会帮助检测与当前node版本最匹配的npm包版本号，并匹配出来相互依赖的npm包应该提升的版本号</li> <li>部分npm包在当前node版本下无法使用，必须使用建议版本</li> <li>安装报错时install肯定会出现npm-debug.log 文件，npm i不一定</li></ol> <h2 id="_6-包-package"><a href="#_6-包-package" class="header-anchor">#</a> 6. 包（package）</h2> <p>将多个模块组合为一个完整的功能，就是一个包</p> <p><strong>包结构</strong></p> <table><thead><tr><th style="text-align:center;">下属文件夹</th> <th style="text-align:center;">作用</th></tr></thead> <tbody><tr><td style="text-align:center;"><strong>bin</strong></td> <td style="text-align:center;">二进制的可执行文件，一般都是一些工具包中才有</td></tr> <tr><td style="text-align:center;"><strong>lib</strong></td> <td style="text-align:center;">存放js源代码文件</td></tr> <tr><td style="text-align:center;"><strong>doc</strong></td> <td style="text-align:center;">文档</td></tr> <tr><td style="text-align:center;"><strong>test</strong></td> <td style="text-align:center;">存放相关测试代码</td></tr> <tr><td style="text-align:center;"><strong>package.json</strong></td> <td style="text-align:center;">包的描述文件</td></tr></tbody></table> <h3 id="_6-1-package-json"><a href="#_6-1-package-json" class="header-anchor">#</a> 6.1 package.json</h3> <p>它是一个json格式的文件，在它里面保存了包各种相关的信息</p> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">具体信息</th></tr></thead> <tbody><tr><td style="text-align:center;"><strong>name</strong></td> <td style="text-align:center;">包名</td></tr> <tr><td style="text-align:center;"><strong>version</strong></td> <td style="text-align:center;">版本</td></tr> <tr><td style="text-align:center;"><strong>dependencies</strong></td> <td style="text-align:center;">依赖</td></tr> <tr><td style="text-align:center;"><strong>main</strong></td> <td style="text-align:center;">包的主要的文件</td></tr> <tr><td style="text-align:center;"><strong>bin</strong></td> <td style="text-align:center;">可执行文件</td></tr></tbody></table> <h3 id="_6-2-npm-node-package-manager"><a href="#_6-2-npm-node-package-manager" class="header-anchor">#</a> 6.2 npm（Node Package Manager）</h3> <ol><li>npm就是Node.js的包管理器</li> <li>通过npm可以对Node.js中的包进行上传、下载、搜索等操作</li> <li>npm会在安装完Node.js以后，自动安装</li></ol> <h2 id="_7-文件系统-file-system"><a href="#_7-文件系统-file-system" class="header-anchor">#</a> 7. 文件系统（File System）</h2> <h3 id="_7-1-buffer-缓冲区"><a href="#_7-1-buffer-缓冲区" class="header-anchor">#</a> 7.1 Buffer（缓冲区）</h3> <p>Buffer和数组的结构的非常类似，Buffer是用来存储二进制数据的</p> <p><strong>Buffer的方法</strong></p> <table><thead><tr><th style="text-align:center;">方法</th> <th style="text-align:center;">作用</th></tr></thead> <tbody><tr><td style="text-align:center;">Buffer.from(字符串)</td> <td style="text-align:center;">将一个字符串中内容保存到一个Buffer中</td></tr> <tr><td style="text-align:center;">Buffer.toString()</td> <td style="text-align:center;">将buffer转换为一个字符串</td></tr> <tr><td style="text-align:center;">Buffer.alloc(size)</td> <td style="text-align:center;">创建一个指定大小的buffer对象</td></tr> <tr><td style="text-align:center;">Buffer.allocUnsafe(size)</td> <td style="text-align:center;">创建一个指定大小的buffer对象，可以包含敏感数据</td></tr></tbody></table> <h3 id="_7-2-fs模块"><a href="#_7-2-fs模块" class="header-anchor">#</a> 7.2 fs模块</h3> <p>在Node通过fs模块来对系统中的文件进行操作，fs模块在Node.js安装时已经一并下载好了，直接引入即可</p> <p><strong>引入fs方法</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;fs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>fs模块中的大部分操作都提供了两种方法，同步方法和异步方法</p> <ol><li>同步方法带sync</li> <li>异步方法没有sync，都需要回调函数</li></ol> <p><strong>写入文件</strong></p> <ol><li>同步写入</li> <li>异步写入</li> <li>简单写入</li> <li>流式写入</li></ol> <p><strong>读取文件</strong></p> <ol><li>同步读取</li> <li>异步读取</li> <li>简单读取</li> <li>流式读取</li></ol> <table><thead><tr><th style="text-align:center;">方法</th> <th style="text-align:center;">用途</th></tr></thead> <tbody><tr><td style="text-align:center;"><strong>fs.open(path, flags[, mode], callback)<br>fs.openSync(path, flags[, mode])</strong></td> <td style="text-align:center;">打开文件</td></tr> <tr><td style="text-align:center;"><strong>fs.write(fd, string[, position[, encoding]], callback)<br>fs.writeSync(fd, string[, position[, encoding]])<br>fs.read(fd, buffer, offset, length, position, callback)<br>fs.readSync(fd, buffer, offset, length, position)</strong></td> <td style="text-align:center;">读写文件</td></tr> <tr><td style="text-align:center;"><strong>fs.close(fd,callback)<br>fs.closeSync(fd)</strong></td> <td style="text-align:center;">关闭文件</td></tr> <tr><td style="text-align:center;"><strong>fs.writeFile(file, data[, options], callback)<br>fs.writeFileSync(file, data[, options])<br>fs.readFile(path[, options], callback)<br>fs.readFileSync(path[, options])</strong></td> <td style="text-align:center;">简单文件读取和写入</td></tr> <tr><td style="text-align:center;"><strong>fs.createWriteStream(path[, options])<br>fs.createReadStream(path[, options])</strong></td> <td style="text-align:center;">流式读取和写入，适用于一些比较大的文件</td></tr></tbody></table></div></div> <!----> <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=Node.js" title="标签">#Node.js</a></div> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/8f43f3/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">JavaScript模块化篇</div></a> <a href="/pages/54baea/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">MongoDB篇</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/8f43f3/" class="prev">JavaScript模块化篇</a></span> <span class="next"><a href="/pages/54baea/">MongoDB篇</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/20b1c9/"><div>
            HTTP协议及缓存机制
            <!----></div></a> <span class="date">05-28</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/666074/"><div>
            开发环境
            <!----></div></a> <span class="date">05-28</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/be5c86/"><div>
            JS基础知识（一）-变量类型和计算
            <!----></div></a> <span class="date">05-28</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="pangyuetian@126.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/uploadhub" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2021-2023
    <span>uploadhub | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.1f1ab57c.js" defer></script><script src="/assets/js/2.091c8f37.js" defer></script><script src="/assets/js/11.3b58f631.js" defer></script>
  </body>
</html>
