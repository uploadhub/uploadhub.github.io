(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{369:function(s,a,t){"use strict";t.r(a);var e=t(7),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"_1-前端代码为何要打包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-前端代码为何要打包"}},[s._v("#")]),s._v(" 1.前端代码为何要打包")]),s._v(" "),a("p",[a("strong",[s._v("代码相关：")])]),s._v(" "),a("ol",[a("li",[s._v("体积更小（Tree-Shaking、压缩、合并），加载更快")]),s._v(" "),a("li",[s._v("编译高级语言或语法（TS，ES6+，模块化，scss）")]),s._v(" "),a("li",[s._v("兼容性和错误检查（Polyfill、postcss、eslint）")])]),s._v(" "),a("p",[a("strong",[s._v("研发流程：")])]),s._v(" "),a("ol",[a("li",[s._v("统一、高效的开发环境")]),s._v(" "),a("li",[s._v("统一的构建流程和产出标准")]),s._v(" "),a("li",[s._v("集成公司构建规范（提测、上线）")])]),s._v(" "),a("h1",{attrs:{id:"_2-module-chunk-bundle-的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-module-chunk-bundle-的区别"}},[s._v("#")]),s._v(" 2.module chunk bundle 的区别")]),s._v(" "),a("ol",[a("li",[s._v("module - 各个源码文件，webpack 中中一切皆是模块")]),s._v(" "),a("li",[s._v("chunk - 多模块合并成的，比如 entry、import、splitChunk")]),s._v(" "),a("li",[s._v("bundle - 最终输出文件")])]),s._v(" "),a("h1",{attrs:{id:"_3-loader-和-plugin-的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-loader-和-plugin-的区别"}},[s._v("#")]),s._v(" 3.loader 和 plugin 的区别")]),s._v(" "),a("ol",[a("li",[s._v("loader 模块转换器，如 less -> css")]),s._v(" "),a("li",[s._v("plugin 扩展插件，如 HtmlWebpackPlugin")])]),s._v(" "),a("h1",{attrs:{id:"_4-常见-loader-和-plugin-有哪些"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-常见-loader-和-plugin-有哪些"}},[s._v("#")]),s._v(" 4.常见 loader 和 plugin 有哪些")]),s._v(" "),a("p",[a("strong",[s._v("常见 loader")])]),s._v(" "),a("p",[s._v("https://www.webpackjs.com/concepts/loaders/")]),s._v(" "),a("ol",[a("li",[s._v("样式：style-loader、css-loader、less-loader、sass-loader等")]),s._v(" "),a("li",[s._v("文件：raw-loader、file-loader 、url-loader等")]),s._v(" "),a("li",[s._v("编译：babel-loader、coffee-loader 、ts-loader等")]),s._v(" "),a("li",[s._v("校验测试：mocha-loader、jshint-loader 、eslint-loader等")])]),s._v(" "),a("p",[a("strong",[s._v("常见 plugin")])]),s._v(" "),a("ul",[a("li",[s._v("https://www.webpackjs.com/concepts/plugins/")]),s._v(" "),a("li",[s._v("首先 webpack 内置 "),a("code",[s._v("UglifyJsPlugin")]),s._v("，压缩和混淆代码。")]),s._v(" "),a("li",[s._v("webpack 内置 "),a("code",[s._v("CommonsChunkPlugin")]),s._v("，提高打包效率，将第三方库和业务代码分开打包。")]),s._v(" "),a("li",[a("code",[s._v("ProvidePlugin")]),s._v("：自动加载模块，代替 require 和 import")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("webpack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ProvidePlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("$")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jquery'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("jQuery")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jquery'")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ul",[a("li",[a("code",[s._v("html-webpack-plugin")]),s._v(" 可以根据模板自动生成 html 代码，并自动引用 css 和 js 文件")]),s._v(" "),a("li",[a("code",[s._v("extract-text-webpack-plugin")]),s._v(" 将 js 文件中引用的样式单独抽离成 css 文件")]),s._v(" "),a("li",[a("code",[s._v("DefinePlugin")]),s._v(" 编译时配置全局变量，这对开发模式和发布模式的构建允许不同的行为非常有用")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("webpack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("DefinePlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PRODUCTION")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("VERSION")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5fa3b9"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BROWSER_SUPPORTS_HTML5")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TWO")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1+1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"typeof window"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"object"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("ul",[a("li",[a("p",[a("code",[s._v("HotModuleReplacementPlugin")]),s._v(" 热更新")])]),s._v(" "),a("li",[a("p",[s._v("添加 "),a("code",[s._v("HotModuleReplacementPlugin")])]),s._v(" "),a("p",[s._v("◦ entry中添加 “webpack-dev-server/client?http://localhost:8080/”, ◦ entry中添加 “webpack/hot/dev-server” ◦ (热更新还可以直接用webpack_dev_server –hot –inline,原理也是在entry中添加了上述代码)")])]),s._v(" "),a("li",[a("p",[s._v("webpack 内置的 "),a("code",[s._v("DllPlugin")]),s._v(" 和 "),a("code",[s._v("DllReferencePlugin")]),s._v(" 相互配合，前置第三方包的构建，只构建业务代码，同时能解决 Externals 多次引用问题。DllReferencePlugin 引用 DllPlugin 配置生成的 manifest.json 文件, manifest.json 包含了依赖模块和 module id 的映射关系")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("optimize-css-assets-webpack-plugin")]),s._v(" 不同组件中重复 css 可以快速去重")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("webpack-bundle-analyzer")]),s._v(" 一个 webpack 的 bundle 文件分析工具，将 bundle 文件以可交互缩放的 treemap 的形式展示。")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("compression-webpack-plugin")]),s._v(" 生产环境可采用 gzip 压缩 JS 和 CSS")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("happypack")]),s._v("：通过多进程模型，来加速代码构建")])])]),s._v(" "),a("h1",{attrs:{id:"_5-babel-和-webpack-的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-babel-和-webpack-的区别"}},[s._v("#")]),s._v(" 5.babel 和 webpack 的区别")]),s._v(" "),a("ol",[a("li",[s._v("babel - JS 新语法编译工具，不关心模块化，不关心 API")]),s._v(" "),a("li",[s._v("webpack - 打包构建工具，是多个 loader plugin 的集合")])]),s._v(" "),a("h1",{attrs:{id:"_6-如何产出一个-lib"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-如何产出一个-lib"}},[s._v("#")]),s._v(" 6.如何产出一个 lib")]),s._v(" "),a("p",[s._v("参考 webpack.dll.js")]),s._v(" "),a("p",[s._v("output.library")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("output")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// lib 的文件名")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("filename")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'loader.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 输出 lib 到 dist 目录下")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("path")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" distPath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// lib 的全局变量名")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("library")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'lodash'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h1",{attrs:{id:"_7-babel-polyfill-和-babel-runtime-的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-babel-polyfill-和-babel-runtime-的区别"}},[s._v("#")]),s._v(" 7.babel-polyfill 和 babel-runtime 的区别")]),s._v(" "),a("ol",[a("li",[s._v("babel-polyfill 会污染全局")]),s._v(" "),a("li",[s._v("babel-runtime 不会污染全局")]),s._v(" "),a("li",[s._v("产出第三方 lib 要用 babel-runtime")])]),s._v(" "),a("h1",{attrs:{id:"_8-webpack-如何实现懒加载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-webpack-如何实现懒加载"}},[s._v("#")]),s._v(" 8.webpack 如何实现懒加载")]),s._v(" "),a("ol",[a("li",[s._v("import()")]),s._v(" "),a("li",[s._v("结合 Vue 、React 异步组件")]),s._v(" "),a("li",[s._v("结合 Vue-router 、React-router 异步加载路由")])]),s._v(" "),a("h1",{attrs:{id:"_9-为何-proxy-不能被-polyfill"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-为何-proxy-不能被-polyfill"}},[s._v("#")]),s._v(" 9.为何 Proxy 不能被 Polyfill")]),s._v(" "),a("ol",[a("li",[s._v("class 可以用 function 模拟")]),s._v(" "),a("li",[s._v("Promise 可以用 callback 来模拟")]),s._v(" "),a("li",[s._v("但 Proxy 的功能用 Object.defineProperty 无法模拟")])]),s._v(" "),a("h1",{attrs:{id:"_10-webpack-优化构建速度-可用于生产环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-webpack-优化构建速度-可用于生产环境"}},[s._v("#")]),s._v(" 10.webpack 优化构建速度（可用于生产环境）")]),s._v(" "),a("ol",[a("li",[s._v("babel-loader 开启缓存")]),s._v(" "),a("li",[s._v("IgnorePlugin 避免引入无用模块")]),s._v(" "),a("li",[s._v("noParse 避免重复打包")]),s._v(" "),a("li",[s._v("happyPack 开启多进程打包")]),s._v(" "),a("li",[s._v("ParallelUglifyPlugin 多进程压缩 JS")])]),s._v(" "),a("h1",{attrs:{id:"_11-webpack-优化构建速度-不可用于生产环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-webpack-优化构建速度-不可用于生产环境"}},[s._v("#")]),s._v(" 11.webpack 优化构建速度（不可用于生产环境）")]),s._v(" "),a("ol",[a("li",[s._v("自动刷新 watch: true")]),s._v(" "),a("li",[s._v("热更新 hot: true")]),s._v(" "),a("li",[s._v("DllPlugin 第三方库，不常升级版本")])]),s._v(" "),a("h1",{attrs:{id:"_12-webpack-优化产出代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-webpack-优化产出代码"}},[s._v("#")]),s._v(" 12.webpack 优化产出代码")]),s._v(" "),a("ol",[a("li",[s._v("小图片 base64 编码")]),s._v(" "),a("li",[s._v("bundle 加 hash")]),s._v(" "),a("li",[s._v("懒加载")]),s._v(" "),a("li",[s._v("提取公共代码")]),s._v(" "),a("li",[s._v("使用 CDN")]),s._v(" "),a("li",[s._v("IgnorePlugin")]),s._v(" "),a("li",[s._v("使用 production")]),s._v(" "),a("li",[s._v("Scope Hosting 作用域提升，自动优化代码，去除没必要的啰嗦的代码")])])])}),[],!1,null,null,null);a.default=n.exports}}]);